import {
  z
} from "./chunk-O46TZV6B.js";
import "./chunk-CD6FLOGV.js";
import "./chunk-2MX6Z6FM.js";
import "./chunk-KOPRMXR6.js";

// node_modules/.pnpm/@storybook+addon-vitest@9.0.16_@vitest+browser@3.2.4_@vitest+runner@3.2.4_react-dom@19.1.0_re_pqcc6wiuqd4nntbqlouyuyfs5q/node_modules/@storybook/addon-vitest/dist/vitest-plugin/setup-file.mjs
import { vi, beforeAll, afterEach } from "vitest";
var ADDON_ID = "storybook/interactions";
var PANEL_ID = `${ADDON_ID}/panel`;
var transport = { setHandler: vi.fn(), send: vi.fn() };
globalThis.__STORYBOOK_ADDONS_CHANNEL__ ??= new z({ transport });
var modifyErrorMessage = ({ task }) => {
  let meta = task.meta;
  if (task.type === "test" && task.result?.state === "fail" && meta.storyId && task.result.errors?.[0]) {
    let currentError = task.result.errors[0], storyUrl = `${import.meta.env.__STORYBOOK_URL__}/?path=/story/${meta.storyId}&addonPanel=${PANEL_ID}`;
    currentError.message = `
\x1B[34mClick to debug the error directly in Storybook: ${storyUrl}\x1B[39m

${currentError.message}`;
  }
};
beforeAll(() => {
  if (globalThis.globalProjectAnnotations) return globalThis.globalProjectAnnotations.beforeAll();
});
afterEach(modifyErrorMessage);
export {
  modifyErrorMessage
};
//# sourceMappingURL=@storybook_addon-vitest_internal_setup-file.js.map
